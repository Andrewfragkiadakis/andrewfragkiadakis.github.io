{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/andrew/andrewfragkiadakis.github.io/andreas-technology-v2/src/components/canvas/Experience.tsx"],"sourcesContent":["'use client'\nimport { useContent } from '@/hooks/useContent'\nimport { useTheme } from '@/contexts/ThemeContext'\nimport { useEffect, useRef } from 'react'\n\ninterface BinaryParticle {\n    x: number\n    y: number\n    char: string\n    life: number\n    maxLife: number\n    velocity: { x: number; y: number }\n}\n\nexport default function Experience() {\n    const canvasRef = useRef<HTMLCanvasElement>(null)\n    const particlesRef = useRef<BinaryParticle[]>([])\n    const mouseRef = useRef({ x: 0, y: 0, lastX: 0, lastY: 0 })\n    const animationFrameRef = useRef<number | undefined>(undefined)\n    const isInitializedRef = useRef(false)\n    const { theme } = useTheme()\n\n    useEffect(() => {\n        const canvas = canvasRef.current\n        if (!canvas) return\n\n        const ctx = canvas.getContext('2d')\n        if (!ctx) return\n\n        // Set canvas size\n        const resizeCanvas = () => {\n            canvas.width = window.innerWidth\n            canvas.height = window.innerHeight\n        }\n        resizeCanvas()\n        window.addEventListener('resize', resizeCanvas)\n\n        // Mouse move handler\n        const handleMouseMove = (e: MouseEvent) => {\n            // Use clientX/clientY directly since canvas fills the screen\n\n            // Initialize mouse position on first movement\n            if (!isInitializedRef.current) {\n                mouseRef.current.x = e.clientX\n                mouseRef.current.y = e.clientY\n                mouseRef.current.lastX = mouseRef.current.x\n                mouseRef.current.lastY = mouseRef.current.y\n                isInitializedRef.current = true\n                return // Don't create particles on first movement\n            }\n\n            mouseRef.current.lastX = mouseRef.current.x\n            mouseRef.current.lastY = mouseRef.current.y\n            mouseRef.current.x = e.clientX\n            mouseRef.current.y = e.clientY\n\n            // Create particles along the path\n            const dx = mouseRef.current.x - mouseRef.current.lastX\n            const dy = mouseRef.current.y - mouseRef.current.lastY\n            const distance = Math.sqrt(dx * dx + dy * dy)\n\n            // Add particles with moderate frequency\n            const particlesToAdd = Math.floor(distance / 20)\n            for (let i = 0; i < particlesToAdd; i++) {\n                const t = i / particlesToAdd\n                const x = mouseRef.current.lastX + dx * t\n                const y = mouseRef.current.lastY + dy * t\n\n                particlesRef.current.push({\n                    x,\n                    y,\n                    char: Math.random() > 0.5 ? '1' : '0',\n                    life: 0,\n                    maxLife: 40 + Math.random() * 20, // Shorter lifespan to reduce overlap\n                    velocity: {\n                        x: (Math.random() - 0.5) * 0.3,\n                        y: Math.random() * 0.5 // Gentle downward only\n                    }\n                })\n            }\n        }\n\n        window.addEventListener('mousemove', handleMouseMove)\n\n        // Clear canvas when scrolling away from hero section\n        const handleScroll = () => {\n            const heroSection = document.getElementById('hero')\n            const scroller = document.getElementById('scroller')\n\n            if (heroSection && scroller) {\n                const rect = heroSection.getBoundingClientRect()\n                // If hero section is mostly out of view, clear particles\n                if (rect.bottom < window.innerHeight * 0.3) {\n                    particlesRef.current = []\n                }\n            }\n        }\n\n        const scroller = document.getElementById('scroller')\n        if (scroller) {\n            scroller.addEventListener('scroll', handleScroll)\n        } else {\n            window.addEventListener('scroll', handleScroll)\n        }\n\n        // Animation loop\n        const animate = () => {\n            // Theme-aware background colors with faster fade\n            const bgColor = theme === 'light'\n                ? 'rgba(255, 255, 255, 0.25)' // Faster fade for light mode\n                : 'rgba(9, 9, 11, 0.25)' // Faster fade for dark mode\n            ctx.fillStyle = bgColor\n            ctx.fillRect(0, 0, canvas.width, canvas.height)\n\n            // Update and draw particles\n            particlesRef.current = particlesRef.current.filter(particle => {\n                particle.life++\n                particle.x += particle.velocity.x\n                particle.y += particle.velocity.y\n                particle.velocity.y += 0.02 // Very gentle gravity\n\n                if (particle.life >= particle.maxLife) {\n                    return false\n                }\n\n                // Calculate opacity based on life with faster fade\n                const opacity = Math.max(0, 1 - (particle.life / particle.maxLife) * 1.5)\n\n                // Theme-aware colors: dark gray for light mode, Matrix green for dark\n                const color = theme === 'light'\n                    ? `rgba(31, 41, 55, ${opacity})` // gray-800\n                    : `rgba(0, 255, 65, ${opacity})` // Matrix green\n\n                ctx.fillStyle = color\n                ctx.font = 'bold 24px monospace'\n                ctx.fillText(particle.char, particle.x, particle.y)\n\n                return true\n            })\n\n            // Limit number of particles for performance and visual clarity\n            if (particlesRef.current.length > 100) {\n                particlesRef.current = particlesRef.current.slice(-100)\n            }\n\n            animationFrameRef.current = requestAnimationFrame(animate)\n        }\n\n        animate()\n\n        return () => {\n            window.removeEventListener('resize', resizeCanvas)\n            const scroller = document.getElementById('scroller')\n            if (scroller) {\n                scroller.removeEventListener('scroll', handleScroll)\n            } else {\n                window.removeEventListener('scroll', handleScroll)\n            }\n            window.removeEventListener('mousemove', handleMouseMove)\n            if (animationFrameRef.current) {\n                cancelAnimationFrame(animationFrameRef.current)\n            }\n        }\n    }, [theme]) // Re-run when theme changes\n\n    return (\n        <div className=\"h-full w-full\">\n            <canvas\n                ref={canvasRef}\n                className=\"w-full h-full cursor-none pointer-events-none\"\n                style={{ background: theme === 'light' ? '#ffffff' : '#09090b' }}\n            />\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}}]
}